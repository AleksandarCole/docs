
* [Supported Clojure versions](#supported-clojure-versions)
* [Changing Clojure version](#changing-clojure-version)
* [Dependency management](#dependency-management)
* [System dependencies](#system-dependencies)
* [A sample Clojure project](#a-sample-clojure-project)
* [See also](#see-also)

## Supported Clojure versions

Semaphore 2.0 Virtual Machine comes with the Leiningen tool preinstalled. The
name of binary executable is `lein`, which is what it will be used in this
page.

## Changing Clojure version

The version of Clojure that is going to be used on a project generated by
Leiningen depends on the contents of the `project.clj` that can be found in the
root directory of each Leiningen project.

## Dependency management

You can use Semaphore's [cache tool](https://docs.semaphoreci.com/article/54-toolbox-reference#cache)
to store and load any files or Clojure libraries that you want to reuse between jobs.

## System dependencies

Clojure projects might need packages like database drivers. As you have full `sudo`
access on each Semaphore 2.0 VM, you are free to install all required packages.

## A sample Clojure project

The following `.semaphore/semaphore.yml` file illustrates how to execute two
Clojure project created using the Leiningen tool:


For the `first_project` the contents of `project.clj` are as follows:


For the `second_project` the contents of `project.clj` are as follows:


As you can see, the `first_project` uses Clojure version 1.10.0 whereas the
`second_project` uses Clojure version 1.8.0.

The contents of the `./src/hw/core.clj` file for both projects are as follows:

    (ns hw.core)
    
    (defn -main [& args]
      (println "Hello World!"))

## See Also

* [Ubuntu image reference](https://docs.semaphoreci.com/article/32-ubuntu-1804-image)
* [sem command line tool Reference](https://docs.semaphoreci.com/article/53-sem-reference)
* [Toolbox reference page](https://docs.semaphoreci.com/article/54-toolbox-reference)
* [Pipeline YAML reference](https://docs.semaphoreci.com/article/50-pipeline-yaml)
* [The Leiningen home page](https://leiningen.org/)
